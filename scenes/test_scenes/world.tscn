[gd_scene load_steps=22 format=3 uid="uid://dvpglwl63g1gk"]

[ext_resource type="Script" path="res://scripts/test_scripts/test_target.gd" id="1_gq3bx"]
[ext_resource type="Script" path="res://scenes/test_scenes/ui.gd" id="2_w5nye"]
[ext_resource type="PackedScene" uid="uid://bimlqd0cjgbeh" path="res://scenes/test_scenes/Skeleton.tscn" id="3_i11hk"]
[ext_resource type="Theme" uid="uid://bgyun6who488h" path="res://themes/ui_3d_theme.tres" id="4_nnfht"]
[ext_resource type="Script" path="res://scenes/test_scenes/texture_rect.gd" id="5_4ld7p"]
[ext_resource type="PackedScene" uid="uid://4cp5qnbsbf0b" path="res://scenes/test_scenes/Skeleton_archer_defender.tscn" id="6_1paby"]
[ext_resource type="PackedScene" uid="uid://bb3s8i0g5t2mh" path="res://scenes/test_scenes/Skeleton_mage_defender.tscn" id="7_0bdev"]
[ext_resource type="Script" path="res://scenes/test_scenes/camera_3d.gd" id="8_gp0kg"]
[ext_resource type="PackedScene" path="res://scenes/test_scenes/level_scene.tscn" id="9_o0rq1"]
[ext_resource type="PackedScene" uid="uid://dkniwytykfpbr" path="res://scenes/test_scenes/nav_mesh.tscn" id="10_p8nci"]
[ext_resource type="Script" path="res://scripts/navigation/navigation_marks.gd" id="11_te3fi"]
[ext_resource type="Texture2D" uid="uid://8y683p5o2reg" path="res://imports/texture_import/background.png" id="12_pkw7w"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_t1s38"]
transparency = 1
albedo_color = Color(1, 0, 0, 0.290196)

[sub_resource type="SphereMesh" id="SphereMesh_hrlki"]
material = SubResource("StandardMaterial3D_t1s38")
radius = 0.15
height = 0.32

[sub_resource type="Environment" id="Environment_l0yfs"]
background_mode = 1
background_color = Color(0.536343, 0.393856, 0.984815, 1)
background_energy_multiplier = 0.7
ambient_light_source = 2
ambient_light_color = Color(0.943109, 0.774977, 0.946805, 1)

[sub_resource type="ViewportTexture" id="ViewportTexture_vmhh0"]
viewport_path = NodePath("UI/SubViewport")

[sub_resource type="Curve3D" id="Curve3D_sv3w4"]
bake_interval = 125.2
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 6.03188, -0.31185, 0, 0, 0, 0, 0, 0, 0, 6.70909, -1.68885, 0, 0, 0, 0, 0, 0, 0, 7.65718, -4.01394, 0, 0, 0, 0, 0, 0, 0, 8.22153, -8.55126, 0, 0, 0, 0, 0, 0, 0, 6.77681, -13.2917),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0)
}
point_count = 5

[sub_resource type="Curve3D" id="Curve3D_fdc0o"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -4.16724, 2.17833, -0.600537, 0, 0, 0, 0, 0, 0, -3.4575, 2.36167, 2.39692, 0, 0, 0, 0, 0, 0, -1.85055, 0.746642, 3.68846, 0, 0, 0, 0, 0, 0, -0.311726, -0.735074, 4.23023, 0, 0, 0, 0, 0, 0, 3.75865, -0.753003, 4.25281, 0, 0, 0, 0, 0, 0, 6.7158, 0.779896, 4.11736, 0, 0, 0, 0, 0, 0, 9.62781, 0.833682, 4.11736, 0, 0, 0, 0, 0, 0, 11.61, 0.855866, 4.09997, 0, 0, 0, 0, 0, 0, 13.5669, -0.921886, 4.07241, 0, 0, 0, 0, 0, 0, 17.0658, -0.92378, 3.8241, 0, 0, 0, 0, 0, 0, 20.3842, -0.867736, 3.59836, 0, 0, 0, 0, 0, 0, 23.251, -0.713007, 3.32921, 0, 0, 0, 0, 0, 0, 25.689, -0.90441, 2.49202, 0, 0, 0, 0, 0, 0, 28.2435, -0.741809, 0.830958),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 14

[sub_resource type="Curve3D" id="Curve3D_860qd"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -5.48858, 0, -1.8591, 0, 0, 0, 0, 0, 0, -4.35056, 0, -3.70838, 0, 0, 0, 0, 0, 0, -3.14141, 0, -5.35851, 0, 0, 0, 0, 0, 0, -1.47706, 0, -5.95597, 0, 0, 0, 0, 0, 0, -0.0687585, 0, -6.084, 0, 0, 0, 0, 0, 0, 1.78419, 0.0188732, -5.836, 0, 0, 0, 0, 0, 0, 3.37742, 0, -5.54432, 0, 0, 0, 0, 0, 0, 5.37122, -0.074388, -5.60907, 0, 0, 0, 0, 0, 0, 7.99707, -1.52627, -5.84305, 0, 0, 0, 0, 0, 0, 11.059, -1.47897, -5.81471, 0, 0, 0, 0, 0, 0, 12.33, -0.28235, -6.24147, 0, 0, 0, 0, 0, 0, 14.0657, 0, -6.35527, 0, 0, 0, 0, 0, 0, 17.4275, 0, -6.34127, 0, 0, 0, 0, 0, 0, 20.1587, 0, -6.34127, 0, 0, 0, 0, 0, 0, 21.5969, 0, -6.09421, 0, 0, 0, 0, 0, 0, 24.7819, -1.68064, -4.2786, 0, 0, 0, 0, 0, 0, 27.2002, -2.92695, -2.61425, 0, 0, 0, 0, 0, 0, 28.101, -2.90818, -1.84476),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 18

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_kosd3"]
shading_mode = 2
disable_ambient_light = true
albedo_texture = ExtResource("12_pkw7w")
metallic_specular = 0.0
roughness = 0.0

[sub_resource type="QuadMesh" id="QuadMesh_5l2fy"]
material = SubResource("StandardMaterial3D_kosd3")
size = Vector2(100, 35)

[node name="test_world" type="Node3D"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="." node_paths=PackedStringArray("mesh_to_take", "camera", "ui")]
mesh = SubResource("SphereMesh_hrlki")
script = ExtResource("1_gq3bx")
mesh_to_take = NodePath(".")
camera = NodePath("../Path3D/PathFollow3D/Camera3D")
ui = NodePath("../UI")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -0.333963, 1.80632, 0)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_l0yfs")

[node name="UI" type="Control" parent="." node_paths=PackedStringArray("place_to_load")]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("2_w5nye")
place_to_load = NodePath("../Mobs")

[node name="SubViewport" type="SubViewport" parent="UI"]
own_world_3d = true
transparent_bg = true
size = Vector2i(138, 150)
size_2d_override_stretch = true
render_target_update_mode = 4

[node name="Camera3D" type="Camera3D" parent="UI/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.329, 0, 0.971)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="UI/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.1992, 0, 3.66713)

[node name="Scene" parent="UI/SubViewport" instance=ExtResource("3_i11hk")]
transform = Transform3D(-0.59238, 0.129154, -0.795239, 0.214181, 0.976793, -0.000905187, 0.776667, -0.170862, -0.606296, -12.3904, -0.404044, 0.30842)

[node name="ScrollContainer" type="ScrollContainer" parent="UI"]
clip_contents = false
custom_minimum_size = Vector2(150, 0)
layout_mode = 1
anchors_preset = 11
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -154.0
grow_horizontal = 0
grow_vertical = 2
horizontal_scroll_mode = 0

[node name="VBoxContainer" type="VBoxContainer" parent="UI/ScrollContainer"]
layout_mode = 2
alignment = 1

[node name="Button" type="Button" parent="UI/ScrollContainer/VBoxContainer" node_paths=PackedStringArray("ui")]
custom_minimum_size = Vector2(150, 150)
layout_mode = 2
theme = ExtResource("4_nnfht")
icon = SubResource("ViewportTexture_vmhh0")
script = ExtResource("5_4ld7p")
mesh_to_inst = ExtResource("3_i11hk")
ui = NodePath("../../..")

[node name="Button3" type="Button" parent="UI/ScrollContainer/VBoxContainer" node_paths=PackedStringArray("ui")]
custom_minimum_size = Vector2(150, 150)
layout_mode = 2
theme = ExtResource("4_nnfht")
icon = SubResource("ViewportTexture_vmhh0")
script = ExtResource("5_4ld7p")
mesh_to_inst = ExtResource("3_i11hk")
ui = NodePath("../../..")

[node name="Button4" type="Button" parent="UI/ScrollContainer/VBoxContainer" node_paths=PackedStringArray("ui")]
custom_minimum_size = Vector2(150, 150)
layout_mode = 2
theme = ExtResource("4_nnfht")
icon = SubResource("ViewportTexture_vmhh0")
script = ExtResource("5_4ld7p")
mesh_to_inst = ExtResource("3_i11hk")
ui = NodePath("../../..")

[node name="Button2" type="Button" parent="UI/ScrollContainer/VBoxContainer" node_paths=PackedStringArray("ui")]
custom_minimum_size = Vector2(150, 150)
layout_mode = 2
theme = ExtResource("4_nnfht")
icon = SubResource("ViewportTexture_vmhh0")
script = ExtResource("5_4ld7p")
mesh_to_inst = ExtResource("6_1paby")
ui = NodePath("../../..")

[node name="Button5" type="Button" parent="UI/ScrollContainer/VBoxContainer" node_paths=PackedStringArray("ui")]
custom_minimum_size = Vector2(150, 150)
layout_mode = 2
theme = ExtResource("4_nnfht")
icon = SubResource("ViewportTexture_vmhh0")
script = ExtResource("5_4ld7p")
mesh_to_inst = ExtResource("7_0bdev")
ui = NodePath("../../..")

[node name="Mobs" type="Node3D" parent="."]

[node name="Path3D" type="Path3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.586918, 6.82002)
curve = SubResource("Curve3D_sv3w4")

[node name="PathFollow3D" type="PathFollow3D" parent="Path3D"]
transform = Transform3D(1, 0, 0, 0, 0.89735, -0.441318, 0, 0.441318, 0.89735, 0, 6.03188, -0.31185)
loop = false

[node name="Camera3D" type="Camera3D" parent="Path3D/PathFollow3D" node_paths=PackedStringArray("path_follow", "path")]
transform = Transform3D(1, 0, 0, 0, 0.322462, 0.946582, 0, -0.946582, 0.322462, 0, 0, 0)
current = true
fov = 75.1
size = 8.001
script = ExtResource("8_gp0kg")
max_x = 25.0
min_x = -5.0
path_follow = NodePath("..")
path = NodePath("../..")

[node name="LevelScene" parent="." instance=ExtResource("9_o0rq1")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0, 0, 0)

[node name="NavMesh" parent="LevelScene" groups=["navigation_mesh_source_group"] instance=ExtResource("10_p8nci")]

[node name="NavigationMarks" type="Node3D" parent="." node_paths=PackedStringArray("paths_array")]
script = ExtResource("11_te3fi")
paths_array = [NodePath("Path3D")]

[node name="Path3D" type="Path3D" parent="NavigationMarks"]
curve = SubResource("Curve3D_fdc0o")

[node name="Path3D2" type="Path3D" parent="NavigationMarks"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.27781, 0)
curve = SubResource("Curve3D_860qd")

[node name="Background" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.775154, 0.631772, 0, -0.631772, 0.775154, 14, -9, -12.0966)
mesh = SubResource("QuadMesh_5l2fy")
