[gd_scene load_steps=16 format=3 uid="uid://dvpglwl63g1gk"]

[ext_resource type="Script" path="res://scenes/test_scenes/camera_3d.gd" id="1_erffx"]
[ext_resource type="Script" path="res://scripts/test_scripts/test_target.gd" id="1_gilvy"]
[ext_resource type="Script" path="res://scenes/test_scenes/ui.gd" id="3_hkor4"]
[ext_resource type="PackedScene" uid="uid://bimlqd0cjgbeh" path="res://scenes/test_scenes/Skeleton.tscn" id="4_78m61"]
[ext_resource type="Script" path="res://scenes/test_scenes/texture_rect.gd" id="4_waaly"]
[ext_resource type="Theme" uid="uid://bgyun6who488h" path="res://themes/ui_3d_theme.tres" id="6_xkoya"]
[ext_resource type="PackedScene" uid="uid://pbm2gkqj1i6l" path="res://scenes/test_scenes/Skeleton_defender.tscn" id="7_sxau2"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_hopr2"]
albedo_color = Color(0.169245, 0.169245, 0.169245, 1)

[sub_resource type="QuadMesh" id="QuadMesh_sg5fm"]
material = SubResource("StandardMaterial3D_hopr2")
size = Vector2(50, 50)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_174cp"]
data = PackedVector3Array(25, -25, 0, -25, -25, 0, 25, 25, 0, -25, -25, 0, -25, 25, 0, 25, 25, 0)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_t1s38"]
transparency = 1
albedo_color = Color(1, 0, 0, 0.290196)

[sub_resource type="SphereMesh" id="SphereMesh_hrlki"]
material = SubResource("StandardMaterial3D_t1s38")
radius = 0.15
height = 0.32

[sub_resource type="Environment" id="Environment_l0yfs"]
ambient_light_source = 2
ambient_light_color = Color(0.943109, 0.774977, 0.946805, 1)

[sub_resource type="ViewportTexture" id="ViewportTexture_vmhh0"]
viewport_path = NodePath("UI/SubViewport")

[sub_resource type="NavigationMesh" id="NavigationMesh_kmdqr"]
vertices = PackedVector3Array(-24.8022, 0.499999, -24.6068, -24.8022, 0.499999, 24.3932, 24.1978, 0.499999, 24.3932, 24.1978, 0.499999, -24.6068)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]
geometry_source_geometry_mode = 1

[node name="test_world" type="Node3D"]

[node name="level" type="Node3D" parent="."]

[node name="BG" type="CSGBox3D" parent="level"]
transform = Transform3D(2.33209, 6.50703e-08, 0, -8.01848e-09, 0.0528401, -0.998603, -1.51538e-07, 0.998603, 0.0528401, -3.3104, -1.10075e-08, -5.56913)
size = Vector3(24.5209, 0.2, 10)

[node name="CSGBox3D" type="CSGBox3D" parent="level"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.8, -1.01003, 0, -2.23928)
use_collision = true
size = Vector3(17.1196, 0.2, 0.888184)

[node name="CSGBox3D4" type="CSGBox3D" parent="level"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.8, -0.997208, 0, 0.219791)
use_collision = true
size = Vector3(16.8181, 0.2, 0.888184)

[node name="CSGBox3D7" type="CSGBox3D" parent="level"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.8, -1.0272, 0, -0.984)
use_collision = true
size = Vector3(16.9933, 0.2, 0.888184)

[node name="CSGBox3D9" type="CSGBox3D" parent="level"]
transform = Transform3D(0.220309, 0, 0.261716, 0, 1, 0, -0.134862, 0, 0.427534, -6.14847, -0.000990152, -0.474978)
use_collision = true
size = Vector3(11.5117, 0.2, 0.888184)

[node name="CSGBox3D13" type="CSGBox3D" parent="level"]
transform = Transform3D(0.220309, 0, 0.261716, 0, 1, 0, -0.134862, 0, 0.427534, 2.27619, -0.000990152, -0.362433)
use_collision = true
size = Vector3(11.5117, 0.2, 0.888184)

[node name="CSGBox3D11" type="CSGBox3D" parent="level"]
transform = Transform3D(-0.241401, 0, 0.178384, 0, 1, 0, -0.0919213, 0, -0.468465, -2.82202, -0.000990152, -1.6058)
use_collision = true
size = Vector3(11.5117, 0.2, 0.888184)

[node name="CSGBox3D15" type="CSGBox3D" parent="level"]
transform = Transform3D(-0.231198, 0, 0.22356, 0, 1, 0, -0.115201, 0, -0.448666, -1.38872, -0.000990152, -0.288386)
use_collision = true
size = Vector3(11.5117, 0.2, 0.888184)

[node name="CSGBox3D8" type="CSGBox3D" parent="level"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.8, -1, 0, 3.13)
use_collision = true
size = Vector3(5.97546, 0.2, 0.888184)

[node name="CSGBox3D3" type="CSGBox3D" parent="level"]
transform = Transform3D(1, 0, 0, 0, 0.0528401, -0.798882, 0, 0.998603, 0.0422721, 5.47401, 0, -0.95619)
visible = false
size = Vector3(10, 0.2, 10)

[node name="StaticBody3D" type="StaticBody3D" parent="level"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="level/StaticBody3D" groups=["navigation_mesh_source_group"]]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -0.302165, 0, -0.106842)
mesh = SubResource("QuadMesh_sg5fm")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="level/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -0.302165, 0, -0.106842)
shape = SubResource("ConcavePolygonShape3D_174cp")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, -1.3485, 6.055, 3.12667)
current = true
fov = 75.1
size = 8.001
script = ExtResource("1_erffx")
min_x = -5.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="." node_paths=PackedStringArray("mesh_to_take", "camera", "ui")]
mesh = SubResource("SphereMesh_hrlki")
script = ExtResource("1_gilvy")
mesh_to_take = NodePath(".")
camera = NodePath("../Camera3D")
ui = NodePath("../UI")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -0.333963, 1.80632, 0)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_l0yfs")

[node name="UI" type="Control" parent="." node_paths=PackedStringArray("place_to_load")]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("3_hkor4")
place_to_load = NodePath("../Mobs")

[node name="SubViewport" type="SubViewport" parent="UI"]
own_world_3d = true
transparent_bg = true
size = Vector2i(138, 150)
size_2d_override_stretch = true
render_target_update_mode = 4

[node name="Camera3D" type="Camera3D" parent="UI/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.329, 0, 0.971)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="UI/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.1992, 0, 3.66713)

[node name="Scene" parent="UI/SubViewport" instance=ExtResource("4_78m61")]
transform = Transform3D(-0.59238, 0.129154, -0.795239, 0.214181, 0.976793, -0.000905187, 0.776667, -0.170862, -0.606296, -12.3904, -0.404044, 0.30842)

[node name="ScrollContainer" type="ScrollContainer" parent="UI"]
clip_contents = false
custom_minimum_size = Vector2(150, 0)
layout_mode = 1
anchors_preset = 11
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -154.0
grow_horizontal = 0
grow_vertical = 2
horizontal_scroll_mode = 0

[node name="VBoxContainer" type="VBoxContainer" parent="UI/ScrollContainer"]
layout_mode = 2
alignment = 1

[node name="Button" type="Button" parent="UI/ScrollContainer/VBoxContainer" node_paths=PackedStringArray("ui")]
custom_minimum_size = Vector2(150, 150)
layout_mode = 2
theme = ExtResource("6_xkoya")
icon = SubResource("ViewportTexture_vmhh0")
script = ExtResource("4_waaly")
mesh_to_inst = ExtResource("4_78m61")
ui = NodePath("../../..")

[node name="Button2" type="Button" parent="UI/ScrollContainer/VBoxContainer" node_paths=PackedStringArray("ui")]
custom_minimum_size = Vector2(150, 150)
layout_mode = 2
theme = ExtResource("6_xkoya")
icon = SubResource("ViewportTexture_vmhh0")
script = ExtResource("4_waaly")
mesh_to_inst = ExtResource("7_sxau2")
ui = NodePath("../../..")

[node name="Mobs" type="Node3D" parent="."]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_kmdqr")
